{"ast":null,"code":"function _slicedToArray(r, e) {\n  return _arrayWithHoles(r) || _iterableToArrayLimit(r, e) || _unsupportedIterableToArray(r, e) || _nonIterableRest();\n}\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nfunction _unsupportedIterableToArray(r, a) {\n  if (r) {\n    if (\"string\" == typeof r) return _arrayLikeToArray(r, a);\n    var t = {}.toString.call(r).slice(8, -1);\n    return \"Object\" === t && r.constructor && (t = r.constructor.name), \"Map\" === t || \"Set\" === t ? Array.from(r) : \"Arguments\" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0;\n  }\n}\nfunction _arrayLikeToArray(r, a) {\n  (null == a || a > r.length) && (a = r.length);\n  for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e];\n  return n;\n}\nfunction _iterableToArrayLimit(r, l) {\n  var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"];\n  if (null != t) {\n    var e,\n      n,\n      i,\n      u,\n      a = [],\n      f = !0,\n      o = !1;\n    try {\n      if (i = (t = t.call(r)).next, 0 === l) {\n        if (Object(t) !== t) return;\n        f = !1;\n      } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0);\n    } catch (r) {\n      o = !0, n = r;\n    } finally {\n      try {\n        if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return;\n      } finally {\n        if (o) throw n;\n      }\n    }\n    return a;\n  }\n}\nfunction _arrayWithHoles(r) {\n  if (Array.isArray(r)) return r;\n}\nimport React from 'react';\nimport { Bar } from 'react-chartjs-2';\nimport { Chart as ChartJS, ArcElement, Tooltip, Legend, LinearScale, CategoryScale, BarElement } from 'chart.js';\nChartJS.register(ArcElement, Tooltip, Legend, LinearScale, CategoryScale, BarElement);\nfunction DataChart(_ref) {\n  var datacharts = _ref.datacharts;\n  // console.log(\"data\", datacharts)\n  // Flatten the nested data structure\n  var flattenedData = Object.entries(datacharts).map(function (_ref2) {\n    var _ref3 = _slicedToArray(_ref2, 2),\n      key = _ref3[0],\n      value = _ref3[1];\n    return {\n      category: key,\n      total: value.total,\n      lenders: Object.entries(value.lenders).map(function (_ref4) {\n        var _ref5 = _slicedToArray(_ref4, 2),\n          lender = _ref5[0],\n          lenderData = _ref5[1];\n        return {\n          lender: lender,\n          total_sent: lenderData.total_sent,\n          approved: lenderData.approved,\n          disbursed: lenderData.disbursed,\n          rejected: lenderData.rejected\n        };\n      })\n    };\n  });\n\n  // Transform data into Chartjs-compatible format\n  var chartData = {\n    labels: flattenedData.map(function (entry) {\n      return entry.category;\n    }),\n    datasets: [{\n      label: 'Total',\n      data: flattenedData.map(function (entry) {\n        return entry.total;\n      }),\n      backgroundColor: 'rgba(75, 192, 192, 0.2)',\n      borderColor: 'rgba(75, 192, 192, 1)',\n      borderWidth: 1\n    }, {\n      label: 'Approved',\n      data: flattenedData.map(function (entry) {\n        return entry.lenders.reduce(function (sum, lender) {\n          return sum + lender.approved;\n        }, 0);\n      }),\n      backgroundColor: 'rgba(255, 99, 132, 0.2)',\n      borderColor: 'rgba(255, 99, 132, 1)',\n      borderWidth: 1\n    }, {\n      label: 'Disbursed',\n      data: flattenedData.map(function (entry) {\n        return entry.lenders.reduce(function (sum, lender) {\n          return sum + lender.disbursed;\n        }, 0);\n      }),\n      backgroundColor: 'rgba(54, 162, 235, 0.2)',\n      borderColor: 'rgba(54, 162, 235, 1)',\n      borderWidth: 1\n    }, {\n      label: 'Rejected',\n      data: flattenedData.map(function (entry) {\n        return entry.lenders.reduce(function (sum, lender) {\n          return sum + lender.rejected;\n        }, 0);\n      }),\n      backgroundColor: 'rgba(255, 206, 86, 0.2)',\n      borderColor: 'rgba(255, 206, 86, 1)',\n      borderWidth: 1\n    }]\n  };\n  return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(Bar, {\n    data: chartData,\n    options: {\n      scales: {\n        y: {\n          beginAtZero: true\n        }\n      }\n    }\n  }));\n}\n;\nexport default DataChart;","map":{"version":3,"names":["React","Bar","Chart","ChartJS","ArcElement","Tooltip","Legend","LinearScale","CategoryScale","BarElement","register","DataChart","_ref","datacharts","flattenedData","Object","entries","map","_ref2","_ref3","_slicedToArray","key","value","category","total","lenders","_ref4","_ref5","lender","lenderData","total_sent","approved","disbursed","rejected","chartData","labels","entry","datasets","label","data","backgroundColor","borderColor","borderWidth","reduce","sum","createElement","options","scales","y","beginAtZero"],"sources":["/home/avinashgupta/Desktop/jdjedddkll/los/app/javascript/src/views/DataChart/DataChart.js"],"sourcesContent":["import React from 'react';\nimport { Bar } from 'react-chartjs-2';\nimport { Chart as ChartJS, ArcElement, Tooltip, Legend, LinearScale, CategoryScale, BarElement } from 'chart.js';\nChartJS.register(ArcElement, Tooltip, Legend, LinearScale, CategoryScale, BarElement);\nfunction DataChart({ datacharts }) {\n  // console.log(\"data\", datacharts)\n  // Flatten the nested data structure\n  const flattenedData = Object.entries(datacharts).map(([key, value]) => ({\n    category: key,\n    total: value.total,\n    lenders: Object.entries(value.lenders).map(([lender, lenderData]) => ({\n      lender,\n      total_sent: lenderData.total_sent,\n      approved: lenderData.approved,\n      disbursed: lenderData.disbursed,\n      rejected: lenderData.rejected\n    }))\n  }));\n\n  // Transform data into Chartjs-compatible format\n  const chartData = {\n    labels: flattenedData.map(entry => entry.category),\n    datasets: [\n      {\n        label: 'Total',\n        data: flattenedData.map(entry => entry.total),\n        backgroundColor: 'rgba(75, 192, 192, 0.2)',\n        borderColor: 'rgba(75, 192, 192, 1)',\n        borderWidth: 1\n      },\n      {\n        label: 'Approved',\n        data: flattenedData.map(entry => entry.lenders.reduce((sum, lender) => sum + lender.approved, 0)),\n        backgroundColor: 'rgba(255, 99, 132, 0.2)',\n        borderColor: 'rgba(255, 99, 132, 1)',\n        borderWidth: 1\n      },\n      {\n        label: 'Disbursed',\n        data: flattenedData.map(entry => entry.lenders.reduce((sum, lender) => sum + lender.disbursed, 0)),\n        backgroundColor: 'rgba(54, 162, 235, 0.2)',\n        borderColor: 'rgba(54, 162, 235, 1)',\n        borderWidth: 1\n      },\n      {\n        label: 'Rejected',\n        data: flattenedData.map(entry => entry.lenders.reduce((sum, lender) => sum + lender.rejected, 0)),\n        backgroundColor: 'rgba(255, 206, 86, 0.2)',\n        borderColor: 'rgba(255, 206, 86, 1)',\n        borderWidth: 1\n      }\n    ]\n  };\n\n  return (\n    <div>\n      {/* <h2>Data Chart</h2> */}\n      <Bar\n        data={chartData}\n        options={{\n          scales: {\n            y: {\n              beginAtZero: true\n            }\n          }\n        }}\n      />\n    </div>\n  );\n};\n\nexport default DataChart;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}